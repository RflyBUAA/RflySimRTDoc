{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u4f7f\u7528RflySim-RT \uf0c1 RflySim-RT\u662f\u53ef\u9760\u98de\u884c\u63a7\u5236\u7814\u7a76\u7ec4\u5f00\u53d1\u7684\u4e00\u5957\u786c\u4ef6\u5728\u73af\u5b9e\u65f6\u4eff\u771f\u5e73\u53f0\uff0c\u5373RflySim\u7684\u5b9e\u65f6\u4eff\u771f\u7248\u672c\u3002 \u4e0eRflySim\u7684\u6838\u5fc3\u533a\u522b\u5728\u4e8e\uff0cRT\u7248\u672c\u4e13\u6ce8\u4e8e\u5b9e\u65f6\u5feb\u901f\u4eff\u771f\uff0c\u5e0c\u671b\u80fd\u591f\u63d0\u4f9b\u66f4\u52a0\u771f\u5b9e\u7684\u4eff\u771f\u6548\u679c\uff0c\u66f4\u597d\u5730\u670d\u52a1\u5e95\u5c42\u63a7\u5236\u3002 RflySim-RT\u57fa\u4e8eSocFPGA\u6253\u9020\uff0c\u4eff\u771f\u5bf9\u8c61\u7684\u6a21\u578b\u4ee5\u4e2d\u65ad\u7684\u65b9\u5f0f\u8fd0\u884c\u5728\u901a\u7528\u8ba1\u7b97\u6838\u5fc3\uff08ARM A53\u6838\u5fc3\uff09\u4e0a\uff0c\u540c\u65f6\u901a\u8fc7FPGA\u5b9e\u73b0\u4eff\u771f\u6a21\u578b\u4e0e\u81ea\u52a8\u9a7e\u9a76\u4eea\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5b8c\u6210\u786c\u4ef6\u5728\u73af\u4eff\u771f\u3002 1.1 \u73b0\u6709\u7279\u6027 \uf0c1 ARM A53\u5355\u6838\u88f8\u673a, \u91c7\u7528\u7b80\u5355\u7684\u65f6\u95f4\u7247\u8f6e\u8be2. Letter Shell \u7ec8\u7aef\u652f\u6301, \u65b9\u4fbf\u7528\u6237\u4ea4\u4e92. \u7f51\u4e0a\u8fd8\u6709\u4e00\u4e2a\u53ebxc_shell. FATFS \u6587\u4ef6\u7cfb\u7edf\u5b9e\u73b0\u5bf9SD\u5361\u7684\u57fa\u672c\u64cd\u4f5c \u7f51\u4e0a\u8fd8\u6709\u4e00\u4e2a\u53eblittlefs \u4e32\u53e3wifi\u6a21\u5757\u65e0\u7ebf\u4f20\u8f93\u663e\u793a\u6570\u636e\u5230RflySim3D\u663e\u793a\u8f6f\u4ef6, \u4e32\u53e3wifi\u6a21\u5757\u53c2\u6570\u53ef\u4ee5\u901a\u8fc7\u4e32\u53e3Shell\u4fee\u6539 \u9ed8\u8ba42000Hz\u4e2d\u65ad\u5b9e\u65f6\u8fd0\u884c\u591a\u65cb\u7ffc\u6a21\u578b \u6a21\u578b\u53c2\u6570( cJSON )\u53ef\u4fee\u6539. \u6a21\u578b\u53c2\u6570\u6587\u4ef6\u9884\u5148\u5b58\u653e\u5230SD\u5361, \u6216\u8005PC\u7aef\u8fdc\u7a0b\u4fee\u6539\u6a21\u578b\u53c2\u6570, \u53c2\u6570\u53ef\u4ee5\u8fdc\u7a0b\u4fdd\u5b58, \u591a\u53c2\u6570\u6587\u4ef6\u652f\u6301,\u4fbf\u4e8e\u5feb\u901f\u5207\u6362\u6a21\u578b 1.2 \u89c4\u5212\u7279\u6027 \uf0c1 \u91c7\u7528PX4 ulog\u65e5\u5fd7\u683c\u5f0f, \u4e0e\u98de\u63a7\u7684ulog\u6587\u4ef6\u91c7\u7528\u76f8\u540c\u7684API\u5904\u7406. \u5bf9MAVLINK\u7684\u652f\u6301, QGC\u5730\u9762\u7ad9\u4fee\u6539\u6a21\u578b\u53c2\u6570, \u751a\u81f3\u63a5\u5165\u63a7\u5236\u53f0 PC\u7aef\u6545\u969c\u6ce8\u5165 \u66f4\u597d\u7684\u4ea4\u4e92\u4f53\u9a8c, PC\u7aef\u5b9e\u73b0\u5bf9\u4eff\u771f\u6a21\u578b\u8fd0\u884c\u7684\u63a7\u5236(shell\u548cPC\u4e0a\u4f4d\u673a), \u5f00\u53d1\u7248\u4e0a\u7535\u540e\u9700\u8981\u624b\u52a8\u9009\u62e9\u6a21\u578b, \u624b\u52a8\u9009\u62e9\u5f00\u59cb\u4eff\u771f, \u5e76\u4e14\u624b\u52a8\u505c\u6b62\u6a21\u578b, \u8f6f\u4ef6\u91cd\u7f6e\u6a21\u578b. ls cd rm cat\u7b49\u6587\u4ef6\u64cd\u4f5c\u51fd\u6570\u7684\u5b9e\u73b0 \u4e0b\u9762\u89c6\u9891\u5c55\u793a\u4e86\u57fa\u4e8e\u8be5\u5e73\u53f0\u5b9e\u73b0\u7684\u56db\u65cb\u7ffc\u98de\u884c\u5668\u7684\u786c\u4ef6\u5728\u73af\u4eff\u771f type:video","title":"\u6b22\u8fce\u4f7f\u7528RflySim-RT"},{"location":"#rflysim-rt","text":"RflySim-RT\u662f\u53ef\u9760\u98de\u884c\u63a7\u5236\u7814\u7a76\u7ec4\u5f00\u53d1\u7684\u4e00\u5957\u786c\u4ef6\u5728\u73af\u5b9e\u65f6\u4eff\u771f\u5e73\u53f0\uff0c\u5373RflySim\u7684\u5b9e\u65f6\u4eff\u771f\u7248\u672c\u3002 \u4e0eRflySim\u7684\u6838\u5fc3\u533a\u522b\u5728\u4e8e\uff0cRT\u7248\u672c\u4e13\u6ce8\u4e8e\u5b9e\u65f6\u5feb\u901f\u4eff\u771f\uff0c\u5e0c\u671b\u80fd\u591f\u63d0\u4f9b\u66f4\u52a0\u771f\u5b9e\u7684\u4eff\u771f\u6548\u679c\uff0c\u66f4\u597d\u5730\u670d\u52a1\u5e95\u5c42\u63a7\u5236\u3002 RflySim-RT\u57fa\u4e8eSocFPGA\u6253\u9020\uff0c\u4eff\u771f\u5bf9\u8c61\u7684\u6a21\u578b\u4ee5\u4e2d\u65ad\u7684\u65b9\u5f0f\u8fd0\u884c\u5728\u901a\u7528\u8ba1\u7b97\u6838\u5fc3\uff08ARM A53\u6838\u5fc3\uff09\u4e0a\uff0c\u540c\u65f6\u901a\u8fc7FPGA\u5b9e\u73b0\u4eff\u771f\u6a21\u578b\u4e0e\u81ea\u52a8\u9a7e\u9a76\u4eea\u7684\u6570\u636e\u4ea4\u6362\uff0c\u5b8c\u6210\u786c\u4ef6\u5728\u73af\u4eff\u771f\u3002","title":"\u6b22\u8fce\u4f7f\u7528RflySim-RT"},{"location":"#11","text":"ARM A53\u5355\u6838\u88f8\u673a, \u91c7\u7528\u7b80\u5355\u7684\u65f6\u95f4\u7247\u8f6e\u8be2. Letter Shell \u7ec8\u7aef\u652f\u6301, \u65b9\u4fbf\u7528\u6237\u4ea4\u4e92. \u7f51\u4e0a\u8fd8\u6709\u4e00\u4e2a\u53ebxc_shell. FATFS \u6587\u4ef6\u7cfb\u7edf\u5b9e\u73b0\u5bf9SD\u5361\u7684\u57fa\u672c\u64cd\u4f5c \u7f51\u4e0a\u8fd8\u6709\u4e00\u4e2a\u53eblittlefs \u4e32\u53e3wifi\u6a21\u5757\u65e0\u7ebf\u4f20\u8f93\u663e\u793a\u6570\u636e\u5230RflySim3D\u663e\u793a\u8f6f\u4ef6, \u4e32\u53e3wifi\u6a21\u5757\u53c2\u6570\u53ef\u4ee5\u901a\u8fc7\u4e32\u53e3Shell\u4fee\u6539 \u9ed8\u8ba42000Hz\u4e2d\u65ad\u5b9e\u65f6\u8fd0\u884c\u591a\u65cb\u7ffc\u6a21\u578b \u6a21\u578b\u53c2\u6570( cJSON )\u53ef\u4fee\u6539. \u6a21\u578b\u53c2\u6570\u6587\u4ef6\u9884\u5148\u5b58\u653e\u5230SD\u5361, \u6216\u8005PC\u7aef\u8fdc\u7a0b\u4fee\u6539\u6a21\u578b\u53c2\u6570, \u53c2\u6570\u53ef\u4ee5\u8fdc\u7a0b\u4fdd\u5b58, \u591a\u53c2\u6570\u6587\u4ef6\u652f\u6301,\u4fbf\u4e8e\u5feb\u901f\u5207\u6362\u6a21\u578b","title":"1.1 \u73b0\u6709\u7279\u6027"},{"location":"#12","text":"\u91c7\u7528PX4 ulog\u65e5\u5fd7\u683c\u5f0f, \u4e0e\u98de\u63a7\u7684ulog\u6587\u4ef6\u91c7\u7528\u76f8\u540c\u7684API\u5904\u7406. \u5bf9MAVLINK\u7684\u652f\u6301, QGC\u5730\u9762\u7ad9\u4fee\u6539\u6a21\u578b\u53c2\u6570, \u751a\u81f3\u63a5\u5165\u63a7\u5236\u53f0 PC\u7aef\u6545\u969c\u6ce8\u5165 \u66f4\u597d\u7684\u4ea4\u4e92\u4f53\u9a8c, PC\u7aef\u5b9e\u73b0\u5bf9\u4eff\u771f\u6a21\u578b\u8fd0\u884c\u7684\u63a7\u5236(shell\u548cPC\u4e0a\u4f4d\u673a), \u5f00\u53d1\u7248\u4e0a\u7535\u540e\u9700\u8981\u624b\u52a8\u9009\u62e9\u6a21\u578b, \u624b\u52a8\u9009\u62e9\u5f00\u59cb\u4eff\u771f, \u5e76\u4e14\u624b\u52a8\u505c\u6b62\u6a21\u578b, \u8f6f\u4ef6\u91cd\u7f6e\u6a21\u578b. ls cd rm cat\u7b49\u6587\u4ef6\u64cd\u4f5c\u51fd\u6570\u7684\u5b9e\u73b0 \u4e0b\u9762\u89c6\u9891\u5c55\u793a\u4e86\u57fa\u4e8e\u8be5\u5e73\u53f0\u5b9e\u73b0\u7684\u56db\u65cb\u7ffc\u98de\u884c\u5668\u7684\u786c\u4ef6\u5728\u73af\u4eff\u771f type:video","title":"1.2 \u89c4\u5212\u7279\u6027"},{"location":"help/updatedoc/","text":"\u5982\u4f55\u8d21\u732e\u4ee3\u7801 \uf0c1 \u672c\u6587\u6587\u6863\u4f7f\u7528MkDocs\u5f00\u53d1\uff0c\u914d\u7f6e\u7b80\u5355\u3002\u5efa\u8bae\u5728WSL\u4e0b\u8fdb\u884c\u5f00\u53d1\u3002 \u5b89\u88c5\u6587\u6863\u73af\u5883\u53ef\u4ee5\u53c2\u8003 mkdocs.org 1.1 pip install mkdocs-pdf-export-plugin \u4e4b\u540e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u63d2\u4ef6 plugins: - pdf-export 1.2 pip install pymdown-extensions 1.3 pip install markdown-callouts 1.4 pip install mdx-gh-links 1.5 pip install mkdocs-click 1.6 pip install mkdocs-autorefs 1.7 pip install mkdocstrings \u548c pip install 'mkdocstrings[crystal,python]' 1.8 pip install mkdocs-gitbook 1.9 pip install mkdocs-with-pdf plugins: - with-pdf 1.10 pip install markdown-checklist markdown_extensions: - markdown_checklist.extension 1.11 pip install mkdocs-video plugins: - mkdocs-video 1.12 pip install mkdocs-git-revision-date-localized-plugin plugins: - git-revision-date-localized 1.13 pip install markdown-captions markdown_extensions: - markdown_captions 1.14 pip install mkdocs-resize-images plugins: - resize-images \u4fee\u6539\u6587\u6863\u5185\u5bb9 2.1 \u8fd0\u884c git clone https://github.com/RflyBUAA/RflySimRTDoc.git 2.2 \u8fd0\u884c git checkout master (\u6ce8\u610f\uff1a\u9ed8\u8ba4\u5206\u652f\u53ef\u80fd\u662f gh-pages , \u5f00\u53d1\u524d\u8bf7\u786e\u8ba4\u5f53\u524d\u5206\u652f\u4e0d\u662f gh-pages ) 2.3 \u4fee\u6539\u6587\u6863\uff0cmarkdown\u683c\u5f0f 2.4 \u8fd0\u884c mkdocs build \uff0c\u4e4b\u540e\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u751f\u6210/\u66f4\u65b0 site \u6587\u4ef6\u5939\u4e0b\u7684\u5185\u5bb9 2.5 \u8fd0\u884c mkdocs serve \u53ef\u4ee5\u672c\u5730\u9884\u89c8\u6548\u679c \u8fd0\u884c mkdocs gh-deploy \u4ee5\u63d0\u4ea4site\u4e0b\u7684\u66f4\u6539 \u5982\u679c mkdocs gh-deploy \u672c\u8eab\u6ca1\u80fd\u81ea\u52a8\u5c06\u66f4\u6539push\u5230\u8fdc\u7aef\u4ed3\u5e93\uff0c\u90a3\u4e48\u624b\u52a8 git push origin gh-pages \u63d0\u4ea4master\u5206\u652f\u7684\u66f4\u6539","title":"\u5982\u4f55\u66f4\u65b0\u6587\u6863"},{"location":"help/updatedoc/#_1","text":"\u672c\u6587\u6587\u6863\u4f7f\u7528MkDocs\u5f00\u53d1\uff0c\u914d\u7f6e\u7b80\u5355\u3002\u5efa\u8bae\u5728WSL\u4e0b\u8fdb\u884c\u5f00\u53d1\u3002 \u5b89\u88c5\u6587\u6863\u73af\u5883\u53ef\u4ee5\u53c2\u8003 mkdocs.org 1.1 pip install mkdocs-pdf-export-plugin \u4e4b\u540e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u542f\u7528\u63d2\u4ef6 plugins: - pdf-export 1.2 pip install pymdown-extensions 1.3 pip install markdown-callouts 1.4 pip install mdx-gh-links 1.5 pip install mkdocs-click 1.6 pip install mkdocs-autorefs 1.7 pip install mkdocstrings \u548c pip install 'mkdocstrings[crystal,python]' 1.8 pip install mkdocs-gitbook 1.9 pip install mkdocs-with-pdf plugins: - with-pdf 1.10 pip install markdown-checklist markdown_extensions: - markdown_checklist.extension 1.11 pip install mkdocs-video plugins: - mkdocs-video 1.12 pip install mkdocs-git-revision-date-localized-plugin plugins: - git-revision-date-localized 1.13 pip install markdown-captions markdown_extensions: - markdown_captions 1.14 pip install mkdocs-resize-images plugins: - resize-images \u4fee\u6539\u6587\u6863\u5185\u5bb9 2.1 \u8fd0\u884c git clone https://github.com/RflyBUAA/RflySimRTDoc.git 2.2 \u8fd0\u884c git checkout master (\u6ce8\u610f\uff1a\u9ed8\u8ba4\u5206\u652f\u53ef\u80fd\u662f gh-pages , \u5f00\u53d1\u524d\u8bf7\u786e\u8ba4\u5f53\u524d\u5206\u652f\u4e0d\u662f gh-pages ) 2.3 \u4fee\u6539\u6587\u6863\uff0cmarkdown\u683c\u5f0f 2.4 \u8fd0\u884c mkdocs build \uff0c\u4e4b\u540e\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u751f\u6210/\u66f4\u65b0 site \u6587\u4ef6\u5939\u4e0b\u7684\u5185\u5bb9 2.5 \u8fd0\u884c mkdocs serve \u53ef\u4ee5\u672c\u5730\u9884\u89c8\u6548\u679c \u8fd0\u884c mkdocs gh-deploy \u4ee5\u63d0\u4ea4site\u4e0b\u7684\u66f4\u6539 \u5982\u679c mkdocs gh-deploy \u672c\u8eab\u6ca1\u80fd\u81ea\u52a8\u5c06\u66f4\u6539push\u5230\u8fdc\u7aef\u4ed3\u5e93\uff0c\u90a3\u4e48\u624b\u52a8 git push origin gh-pages \u63d0\u4ea4master\u5206\u652f\u7684\u66f4\u6539","title":"\u5982\u4f55\u8d21\u732e\u4ee3\u7801"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/","text":"\u5feb\u901f\u5f00\u59cb \uf0c1 \u9996\u5148\u4ecb\u7ecd\u786c\u4ef6\u8fde\u63a5\uff0c\u8bfb\u8005\u8bf7\u6309\u7167\u6587\u6863\u6307\u5f15\u5b8c\u6210\u786c\u4ef6\u8fde\u63a5\u3002\u4e4b\u540e\u4ecb\u7ecd\u8f6f\u4ef6\u914d\u7f6e\uff0c\u8bfb\u8005\u53ef\u636e\u6b64\u5b9e\u73b0\u7b2c\u4e00\u6b21\u8fd0\u884c\u3002 1. \u786c\u4ef6\u8fde\u63a5 \uf0c1 1.1 \u5173\u952e\u786c\u4ef6\u6e05\u5355 \uf0c1 \u4eff\u771f\u5668\uff1aALINX MPSoC\u5f00\u53d1\u677f\uff0c\u5f00\u53d1\u677f\u578b\u53f7AXU2CG-E\uff0c\u4e3b\u63a7\u82af\u7247\u578b\u53f7XCZU2CG-SFVC784-1-E \u81ea\u52a8\u9a7e\u9a76\u4eea\uff1aPixhawk 4 \u8fde\u63a5\u7ebf\uff1aGH1.25\u8f6c\u675c\u90a6\u8fde\u63a5\u7ebf \u901a\u4fe1\u6a21\u5757\uff1a \u6b63\u70b9\u539f\u5b50\u4e32\u53e3\u8f6cwifi\u6a21\u5757 Note Pixhawk 4 \u76ee\u524d\u5df2\u7ecf\u505c\u552e\uff0c\u53ef\u4ee5\u66ff\u6362\u4e3a\u5177\u6709\u5916\u7f6eSPI\u63a5\u53e3\u7684\u517c\u5bb9PX4\u7684\u81ea\u52a8\u9a7e\u9a76\u4eea\u3002Pixhawk 6\u7cfb\u5217\u6ca1\u6709\u63d0\u4f9b\u5916\u7f6eSPI\u63a5\u53e3\u3002 1.2 \u786c\u4ef6\u63a5\u53e3\u5b9a\u4e49\u56fe \uf0c1 \u5c06\u98de\u63a7\u4e0e\u5f00\u53d1\u677f\u5bf9\u5e94\u5f15\u811a\u4f7f\u7528GH1.25\u675c\u90a6\u7ebf\u5bf9\u5e94\u8fde\u63a5\u5728\u4e00\u8d77, \u5f15\u811a\u5b9a\u4e49\u67e5\u770b\u4e0b\u9762\u51e0\u526f\u56fe. pixhawk 4 \u63a5\u53e3\u5b9a\u4e49\u56fe Note \u6bcf\u4e2a\u63a5\u53e3\u7684\u5de6\u6570\u7b2c\u4e00\u4e2a\u5f15\u811a\u662fPIN 1, \u4e5f\u5c31\u662fVCC \u56fe\uff1aPixhawk 4 \u4e0a\u7528\u5230\u7684\u63a5\u53e3 \u56fe\uff1aPixhawk 4 \u8fde\u63a5\u5b9e\u7269\u56fe \u56fe\uff1aPixhawk I2C\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk GPS\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk SPI\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk PWM\u63a5\u53e3\u5b9a\u4e49 Note \u4ee5\u4e0a\u7ed9\u51fa\u4e86\u6240\u7528\u5230\u7684\u63a5\u53e3\u5b9a\u4e49\u3002\u66f4\u8be6\u7ec6\u7684\u63a5\u53e3\u5b9a\u4e49\u53ef\u4ee5\u53c2\u8003 Pixhawk4-Pinouts.pdf \u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49\u56fe, \u7ba1\u811a\u548c\u7ea2\u6846\u4e2d\u7684\u5b9a\u4e49\u6807\u8bb0\u4f9d\u6b21\u5bf9\u5e94 \u56fe\uff1a\u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49 \u5982\u4e0a\u56fe\uff08 \u56fe\uff1a\u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49 \uff09\u6240\u793a\uff0c\u5c06\u4e32\u53e3wifi\u6a21\u5757\u5b89\u88c5\u5230\u5f00\u53d1\u677f\u5de6\u4e0b\u89d2\u4f4d\u7f6e\u4e0a\u3002\u6548\u679c\u56fe\u5982\u4e0b \u56fe\uff1awifi\u6a21\u5757\u7684\u5b89\u88c5\u6548\u679c 1.3 \u5176\u4ed6\u8fde\u63a5 \uf0c1 1.\u5c06\u5f00\u53d1\u677f\u7684PS\u4e32\u53e3\u901a\u8fc7\u6570\u636e\u7ebf\u4e0e\u7535\u8111USB\u63a5\u53e3\u8fde\u63a5 Note \u4e32\u53e3\u7528\u4e8e\u7cfb\u7edf\u8c03\u8bd5\uff0c\u5efa\u8bae\u4f7f\u7528 MobaXterm \\ Putty \\ SecureCRT \\ WindTerm \u7b49\u7684\u5de5\u5177\u5728\u7535\u8111\u4e0a\u6253\u5f00\u4e32\u53e3\u8fde\u63a5\uff0c\u5b9e\u73b0\u547d\u4ee4\u884c\u529f\u80fd\u3002\u5c3d\u7ba1\u5176\u4ed6\u7684\u4e32\u53e3\u52a9\u624b\u8f6f\u4ef6\u4e5f\u53ef\u4f7f\u7528\uff0c\u4f46\u662f\u65e0\u6cd5\u5b9e\u73b0\u547d\u4ee4\u884c\u7684\u4ea4\u4e92\u6548\u679c\u3002 2.\u8fde\u63a5\u5f00\u53d1\u677f\u7535\u6e90 Note \u53ef\u4ee5\u8d2d\u4e70\u5e26\u5f00\u5173\u7684DC\u7535\u6e90\u7ebf, \u514d\u53bb\u7535\u6e90\u63d2\u62d4\u7684\u7e41\u7410\u64cd\u4f5c 2. \u98de\u63a7\u56fa\u4ef6\u8bbe\u7f6e \uf0c1 RflySim-RT \u501f\u52a9FPGA\u6a21\u62df\u771f\u5b9e\u7684\u4f20\u611f\u5668\u903b\u8f91\u4ece\u800c\u5b9e\u73b0\u786c\u4ef6\u5728\u73af\u4eff\u771f\u7684\u76ee\u7684\u3002\u6bd4\u8f83\u901a\u7528\u7684\u505a\u6cd5\u662f\u5c06\u539f\u6709\u4f20\u611f\u5668\u53bb\u9664\uff0c\u5e76\u5728\u539f\u6709\u710a\u63a5\u63a5\u53e3\u4e0a\u98de\u7ebf\u5e76\u4e0e\u4eff\u771f\u5e73\u53f0\u8fde\u63a5\u3002\u597d\u5728\uff0cPixhawk 4\u4e0a\u63d0\u4f9b\u4e86\u5916\u7f6e\u7684SPI\u548cI2C\u63a5\u53e3\uff0c\u53ef\u4ee5\u501f\u52a9\u8fd9\u4e9b\u63a5\u53e3\u76f4\u63a5\u4e0e\u4eff\u771f\u5668\u8fde\u63a5\u3002\u56e0\u6b64\uff0c\u9700\u8981\u8ba9\u98de\u63a7\u9ed8\u8ba4\u4f7f\u7528\u5916\u7f6eSPI\u548cI2C\u63a5\u53e3\uff0c\u4e0e\u4eff\u771f\u5668\u8fdb\u884c\u901a\u4fe1\u3002 \u8fd9\u91cc\u91c7\u7528\u4fee\u6539PX4\u542f\u52a8\u811a\u672c\u7684\u65b9\u5f0f\u8ba9\u81ea\u52a8\u9a7e\u9a76\u4eea\u5728\u542f\u52a8\u7684\u65f6\u5019\u4f18\u5148\u5c1d\u8bd5\u8fde\u63a5\u5916\u90e8SPI\u7684IMU\uff0c\u4ece\u800c\u5b9e\u73b0\u4e00\u6b21\u70e7\u5f55\uff0c\u65e2\u80fd\u7528\u4e8e\u4eff\u771f\u4e5f\u80fd\u7528\u4e8e\u5b9e\u98de\u7684\u76ee\u7684\u3002\u8fd9\u91cc\u4fee\u6539 \u98de\u63a7\u7684\u4f20\u611f\u5668\u542f\u52a8\u811a\u672c\u8fdb\u884c\u7b80\u5355\u4fee\u6539\u91cd\u65b0\u7f16\u8bd1\u70e7\u5f55\u5230\u98de\u63a7\u4e2d \u3002 Note \u9ed8\u8ba4\u652f\u6301PX4 v1.11\u7248\u672c\u7684\u56fa\u4ef6\u3002\u5bf9\u4e8ev1.12\u7684\u652f\u6301\u8bf7\u53c2\u8003 \u5982\u4f55\u4f7f\u7528PX4 1.12\u56fa\u4ef6 \u3002\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u542f\u52a8\u811a\u672c\u7684\u4fee\u6539\u5185\u5bb9\u6709\u7ec6\u5fae\u7684\u53d8\u5316\u3002 \u8fd9\u91cc\u5047\u8bbe\u7528\u6237\u4f7f\u7528RflySim\u8fdb\u884c\u63a7\u5236\u7b97\u6cd5\u7684\u5f00\u53d1\u3002\u4e3a\u4e86\u80fd\u591f\u4e0eRflySim-RT\u5b9e\u73b0\u4eff\u771f\uff0c\u9700\u8981\u4fee\u6539\u56fa\u4ef6\u6e90\u7801\u7684\u542f\u52a8\u811a\u672c\u3002\u5bf9\u4e8ePixhawk 4\u98de\u63a7\u800c\u8a00\uff0c\u542f\u52a8\u811a\u672c\u8def\u5f84\u4f4d\u4e8e X:\\PX4PSP\\Firmware\\boards\\px4\\fmu-v5\\init\\rc.board_sensors \u3002 \u5176\u4ed6\u7c7b\u578b\u7684\u98de\u63a7\u53ef\u5728\u8def\u5f84 \\Firmware\\boards \u4e2d\u67e5\u627e\u3002 X \u662fRflySim\u7684\u5b89\u88c5\u76d8\u7b26\uff0c\u9ed8\u8ba4\u662fC\u76d8\u3002 Note \u5982\u679c\u4f7f\u7528\u5b98\u65b9\u539f\u751f\u56fa\u4ef6\uff0c\u4e5f\u9700\u8981\u5230\u5bf9\u5e94\u7684\u76ee\u5f55 Firmware\\boards\\px4\\fmu-v5\\init\\ \u4e0b\u4fee\u6539rc.board_sensors\u6587\u4ef6\uff0c\u9700\u8981\u4fee\u6539\u5185\u5bb9\u4e5f\u662f\u4e00\u6837\u7684\u3002\u5efa\u8bae\u4f7f\u7528vscode\u4e4b\u7c7b\u7684\u7f16\u8f91\u8f6f\u4ef6\u3002\u56e0\u4e3a\u56de\u8f66\u7b26\u7684\u533a\u522b\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528Windows\u7cfb\u7edf\u7684\u8bb0\u4e8b\u672c\u3002 \u4f7f\u7528\u7f16\u8f91\u5668\u6253\u5f00rc.board_sensors\u3002\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9 #!/bin/sh # # PX4 FMUv5 specific board sensors init #------------------------------------------------------------------------------ adc start if ! icm20689 -S start then # Internal SPI bus ICM-20602 #icm20602 -s -R 2 start # Internal SPI bus ICM-20689 icm20689 -s -R 2 start # Internal SPI bus BMI055 accel/gyro #bmi055 -A -R 2 -s start #bmi055 -G -R 2 -s start # internal compass #ist8310 -I start fi if ! ms5611 -X start then # Baro on internal SPI ms5611 -s start fi #icm20689 -S start #ms5611 -X start \u4fee\u6539\u540e\u7684\u811a\u672c\u903b\u8f91\u662f\u4f18\u5148\u542f\u52a8\u5916\u7f6e\u4f20\u611f\u5668\uff0c\u5982\u679c\u542f\u52a8\u5931\u8d25\u5219\u4f1a\u542f\u52a8\u5185\u7f6e\u4f20\u611f\u5668\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u56fa\u4ef6\u53ef\u4ee5\u4e0d\u7ecf\u4fee\u6539\u65e2\u53ef\u4ee5\u8fd0\u884c\u5728\u672c\u4eff\u771f\u5e73\u53f0\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u98de\u3002\u5f53\u7136\u4e86\uff0c\u8fd8\u662f\u5efa\u8bae\u4eff\u771f\u4e00\u4e2a\u98de\u63a7\uff0c\u5b9e\u98de\u4e00\u4e2a\u98de\u63a7\u3002 Warning \u8bf7\u518d\u6b21\u786e\u8ba4\u98de\u63a7\u4e2d\u5b89\u88c5\u7684PX4\u98de\u63a7\u56fa\u4ef6\u7248\u672c\u662f1.11.3\u7248\u672c\u3002 \u4e14\u98de\u63a7\u7684\u6a21\u5f0f\u662f\u56db\u65cb\u7ffc\u3002 3. \u56fa\u4ef6\u53c2\u6570\u8bbe\u7f6e \uf0c1 \u6210\u529f\u8fd0\u884c\u4eff\u771f\u7cfb\u7edf\u53ea\u9700\u8981\u4fee\u6539\u4ee5\u4e0b\u53c2\u6570\u4e3a\u6307\u5b9a\u503c\uff0c\u89c1\u4e0b\u56fe 4. \u5f00\u53d1\u677f\u56fa\u4ef6\u5b89\u88c5 \uf0c1 \u5f00\u53d1\u677f\u91c7\u7528SD\u542f\u52a8\u65b9\u5f0f\u3002\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b: 1.\u4ece\u5f00\u53d1\u677f\u4e0a\u53d6\u4e0bSD\u5361\uff0c\u4f7f\u7528\u8bfb\u5361\u5668\u5c06\u56fa\u4ef6\u590d\u5236\u5230SD\u5361\u6839\u76ee\u5f55\u4e0a\u3002 \u56fa\u4ef6\u4e0b\u8f7d\u94fe\u63a5\uff1a https://bhpan.buaa.edu.cn:443/link/1FF3201F500F3D00A9C483235A36B653 \u6709\u6548\u671f\u9650\uff1a2023-09-01 23:59 Warning SD\u5361\u9700\u8981\u63d0\u524d\u683c\u5f0f\u5316\u4e3aFAT32\u683c\u5f0f\u3002 \u56fa\u4ef6\u7684\u540d\u5b57\u5fc5\u987b\u662fBOOT.bin\u3002 2.\u901a\u8fc7\u62e8\u7801\u5f00\u5173\uff0c\u8bbe\u7f6e\u5f00\u53d1\u677f\u7684\u4e0a\u7535\u542f\u52a8\u6a21\u5f0f\u4e3aSD\u5361\u6a21\u5f0f\u3002\u62e8\u7801\u5f00\u5173\u8bbe\u7f6e\u53c2\u8003\u4e0b\u56fe\uff0c\u5e94\u8bbe\u7f6e\u4e3a0101\uff0c\u5bf9\u5e94\u5230\u56fe\u4e2d\u4ece\u5de6\u5230\u53f3\u662f \u4e0a\u4e0b\u4e0a\u4e0b \u3002 3.\u5c06SD\u5361\u63d2\u56de\u5230\u5f00\u53d1\u677f\u4e0a\u3002 \u5b8c\u6210\u4ee5\u4e0a\u8bbe\u7f6e\u540e\uff0c\u7ed9\u5f00\u53d1\u677f\u901a\u7535\uff0c\u5e76\u4e14\u8fde\u63a5USB\u5230\u7535\u8111\uff0c\u53ef\u4ee5\u5728\u8bbe\u5907\u7ba1\u7406\u5668\u4e2d\u770b\u5230\uff08 \u786e\u8ba4\u5df2\u7ecf\u5b89\u88c5CP210X\u7684\u9a71\u52a8 \uff09\uff0c\u4f7f\u7528\u4e32\u53e3\u7ec8\u7aef\u8fde\u63a5\u4e32\u53e3\u3002 \u8fd9\u91cc\u4f7f\u7528MobaXterm\u4e3e\u4f8b\u6253\u5f00\u4e32\u53e3\uff0c\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a115200\uff0c\u6253\u5f00\u540e\u5728\u4e32\u53e3\u7ec8\u7aef\u91cc\u8f93\u5165 help \u5e76\u4e14 \u56de\u8f66 \u3002\u89c1\u4e0b\u56fe\uff1a \u5f53\u7136\u4e5f\u53ef\u4ee5\u5148\u8fde\u63a5\u4e32\u53e3\u518d\u6253\u5f00\u5f00\u53d1\u677f\uff0c\u6216\u8005\u6309\u4e0b\u5f00\u53d1\u677f\u7684\u590d\u4f4d\u952e\uff0c\u5e94\u8be5\u80fd\u770b\u5230\u66f4\u591a\u542f\u52a8\u4fe1\u606f\u3002\u89c1\u4e0b\u56fe\uff1a \u5982\u679c\u8fde\u63a5\u4e86\u4e32\u53e3\u8f6cwifi\u6a21\u5757\uff0c\u6253\u5f00RflySim3D\u8f6f\u4ef6\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4e00\u67b6\u56db\u65cb\u7ffc\u98de\u884c\u5668\u51fa\u73b0\u5728\u7a97\u53e3\u4e2d\uff08\u5982\u679c\u6ca1\u6709\u663e\u793a\uff0c\u8bf7\u5148\u68c0\u67e5wifi\u6a21\u5757\u662f\u5426\u6b63\u5e38\u8fde\u63a5\u5230\u5c40\u57df\u7f51\u4e2d\uff09 5. \u98de\u63a7\u4e0a\u7535 \uf0c1 \u8fde\u63a5\u98de\u63a7\u4e0e\u7535\u8111\uff08\u786e\u4fdd\u5df2\u7ecf\u6309\u7167\u524d\u9762\u6b65\u9aa4\u91cd\u5237\u4fee\u6539\u8fc7\u542f\u52a8\u811a\u672c\u7684\u56fa\u4ef6\uff09\uff0c\u6253\u5f00QGC\u53ef\u4ee5\u770b\u5230\u5730\u9762\u7ad9\u8fde\u63a5\u5230\u98de\u63a7. \u5728\u5730\u9762\u7ad9\u7684\u63a7\u5236\u53f0\u4e2d\u8f93\u5165 sensors status \u56de\u8f66\uff0c\u53ef\u4ee5\u770b\u5230\u98de\u63a7\u8bfb\u53d6\u5230\u7684\u4f20\u611f\u5668\u4fe1\u606f\u3002 \u5982\u679c\u914d\u7f6e\u8fc7\u7a0b\u6ca1\u95ee\u9898\u5f97\u8bdd\uff0c\u53ef\u4ee5\u83b7\u5f97\u4f20\u611f\u5668\u72b6\u6001\u4fe1\u606f\u5982\u4e0b\u56fe\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u6570\u636e\u5b9e\u9645\u4e0a\u662fFPGA\u6a21\u62df\u51fa\u6765\u7684\uff0c\u98de\u63a7\u5374\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u771f\u5b9e\u7684\u4f20\u611f\u5668\u3002 \u5982\u679c\u6ca1\u6709\u4e0a\u56fe\u6548\u679c\u8bf7\u518d\u6b21\u786e\u8ba4 \u98de\u63a7\u7684Px4 \u7248\u672c\u662f1.11.3\u3002 \u4e14\u98de\u884c\u6a21\u5f0f\u662f\u56db\u65cb\u7ffc\u6a21\u5f0f\u3002 \u786e\u8ba4\u98de\u63a7\u548c\u5f00\u53d1\u677f\u7269\u7406\u63a5\u7ebf\u6b63\u786e\u3002 \u68c0\u67e5\u5730\u7ebf\u662f\u5426\u6b63\u786e\u8fde\u63a5\u3002","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#_1","text":"\u9996\u5148\u4ecb\u7ecd\u786c\u4ef6\u8fde\u63a5\uff0c\u8bfb\u8005\u8bf7\u6309\u7167\u6587\u6863\u6307\u5f15\u5b8c\u6210\u786c\u4ef6\u8fde\u63a5\u3002\u4e4b\u540e\u4ecb\u7ecd\u8f6f\u4ef6\u914d\u7f6e\uff0c\u8bfb\u8005\u53ef\u636e\u6b64\u5b9e\u73b0\u7b2c\u4e00\u6b21\u8fd0\u884c\u3002","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#1","text":"","title":"1. \u786c\u4ef6\u8fde\u63a5"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#11","text":"\u4eff\u771f\u5668\uff1aALINX MPSoC\u5f00\u53d1\u677f\uff0c\u5f00\u53d1\u677f\u578b\u53f7AXU2CG-E\uff0c\u4e3b\u63a7\u82af\u7247\u578b\u53f7XCZU2CG-SFVC784-1-E \u81ea\u52a8\u9a7e\u9a76\u4eea\uff1aPixhawk 4 \u8fde\u63a5\u7ebf\uff1aGH1.25\u8f6c\u675c\u90a6\u8fde\u63a5\u7ebf \u901a\u4fe1\u6a21\u5757\uff1a \u6b63\u70b9\u539f\u5b50\u4e32\u53e3\u8f6cwifi\u6a21\u5757 Note Pixhawk 4 \u76ee\u524d\u5df2\u7ecf\u505c\u552e\uff0c\u53ef\u4ee5\u66ff\u6362\u4e3a\u5177\u6709\u5916\u7f6eSPI\u63a5\u53e3\u7684\u517c\u5bb9PX4\u7684\u81ea\u52a8\u9a7e\u9a76\u4eea\u3002Pixhawk 6\u7cfb\u5217\u6ca1\u6709\u63d0\u4f9b\u5916\u7f6eSPI\u63a5\u53e3\u3002","title":"1.1 \u5173\u952e\u786c\u4ef6\u6e05\u5355"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#12","text":"\u5c06\u98de\u63a7\u4e0e\u5f00\u53d1\u677f\u5bf9\u5e94\u5f15\u811a\u4f7f\u7528GH1.25\u675c\u90a6\u7ebf\u5bf9\u5e94\u8fde\u63a5\u5728\u4e00\u8d77, \u5f15\u811a\u5b9a\u4e49\u67e5\u770b\u4e0b\u9762\u51e0\u526f\u56fe. pixhawk 4 \u63a5\u53e3\u5b9a\u4e49\u56fe Note \u6bcf\u4e2a\u63a5\u53e3\u7684\u5de6\u6570\u7b2c\u4e00\u4e2a\u5f15\u811a\u662fPIN 1, \u4e5f\u5c31\u662fVCC \u56fe\uff1aPixhawk 4 \u4e0a\u7528\u5230\u7684\u63a5\u53e3 \u56fe\uff1aPixhawk 4 \u8fde\u63a5\u5b9e\u7269\u56fe \u56fe\uff1aPixhawk I2C\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk GPS\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk SPI\u63a5\u53e3\u5b9a\u4e49 \u56fe\uff1aPixhawk PWM\u63a5\u53e3\u5b9a\u4e49 Note \u4ee5\u4e0a\u7ed9\u51fa\u4e86\u6240\u7528\u5230\u7684\u63a5\u53e3\u5b9a\u4e49\u3002\u66f4\u8be6\u7ec6\u7684\u63a5\u53e3\u5b9a\u4e49\u53ef\u4ee5\u53c2\u8003 Pixhawk4-Pinouts.pdf \u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49\u56fe, \u7ba1\u811a\u548c\u7ea2\u6846\u4e2d\u7684\u5b9a\u4e49\u6807\u8bb0\u4f9d\u6b21\u5bf9\u5e94 \u56fe\uff1a\u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49 \u5982\u4e0a\u56fe\uff08 \u56fe\uff1a\u5f00\u53d1\u677fIO\u63a5\u53e3\u5b9a\u4e49 \uff09\u6240\u793a\uff0c\u5c06\u4e32\u53e3wifi\u6a21\u5757\u5b89\u88c5\u5230\u5f00\u53d1\u677f\u5de6\u4e0b\u89d2\u4f4d\u7f6e\u4e0a\u3002\u6548\u679c\u56fe\u5982\u4e0b \u56fe\uff1awifi\u6a21\u5757\u7684\u5b89\u88c5\u6548\u679c","title":"1.2 \u786c\u4ef6\u63a5\u53e3\u5b9a\u4e49\u56fe"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#13","text":"1.\u5c06\u5f00\u53d1\u677f\u7684PS\u4e32\u53e3\u901a\u8fc7\u6570\u636e\u7ebf\u4e0e\u7535\u8111USB\u63a5\u53e3\u8fde\u63a5 Note \u4e32\u53e3\u7528\u4e8e\u7cfb\u7edf\u8c03\u8bd5\uff0c\u5efa\u8bae\u4f7f\u7528 MobaXterm \\ Putty \\ SecureCRT \\ WindTerm \u7b49\u7684\u5de5\u5177\u5728\u7535\u8111\u4e0a\u6253\u5f00\u4e32\u53e3\u8fde\u63a5\uff0c\u5b9e\u73b0\u547d\u4ee4\u884c\u529f\u80fd\u3002\u5c3d\u7ba1\u5176\u4ed6\u7684\u4e32\u53e3\u52a9\u624b\u8f6f\u4ef6\u4e5f\u53ef\u4f7f\u7528\uff0c\u4f46\u662f\u65e0\u6cd5\u5b9e\u73b0\u547d\u4ee4\u884c\u7684\u4ea4\u4e92\u6548\u679c\u3002 2.\u8fde\u63a5\u5f00\u53d1\u677f\u7535\u6e90 Note \u53ef\u4ee5\u8d2d\u4e70\u5e26\u5f00\u5173\u7684DC\u7535\u6e90\u7ebf, \u514d\u53bb\u7535\u6e90\u63d2\u62d4\u7684\u7e41\u7410\u64cd\u4f5c","title":"1.3 \u5176\u4ed6\u8fde\u63a5"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#2","text":"RflySim-RT \u501f\u52a9FPGA\u6a21\u62df\u771f\u5b9e\u7684\u4f20\u611f\u5668\u903b\u8f91\u4ece\u800c\u5b9e\u73b0\u786c\u4ef6\u5728\u73af\u4eff\u771f\u7684\u76ee\u7684\u3002\u6bd4\u8f83\u901a\u7528\u7684\u505a\u6cd5\u662f\u5c06\u539f\u6709\u4f20\u611f\u5668\u53bb\u9664\uff0c\u5e76\u5728\u539f\u6709\u710a\u63a5\u63a5\u53e3\u4e0a\u98de\u7ebf\u5e76\u4e0e\u4eff\u771f\u5e73\u53f0\u8fde\u63a5\u3002\u597d\u5728\uff0cPixhawk 4\u4e0a\u63d0\u4f9b\u4e86\u5916\u7f6e\u7684SPI\u548cI2C\u63a5\u53e3\uff0c\u53ef\u4ee5\u501f\u52a9\u8fd9\u4e9b\u63a5\u53e3\u76f4\u63a5\u4e0e\u4eff\u771f\u5668\u8fde\u63a5\u3002\u56e0\u6b64\uff0c\u9700\u8981\u8ba9\u98de\u63a7\u9ed8\u8ba4\u4f7f\u7528\u5916\u7f6eSPI\u548cI2C\u63a5\u53e3\uff0c\u4e0e\u4eff\u771f\u5668\u8fdb\u884c\u901a\u4fe1\u3002 \u8fd9\u91cc\u91c7\u7528\u4fee\u6539PX4\u542f\u52a8\u811a\u672c\u7684\u65b9\u5f0f\u8ba9\u81ea\u52a8\u9a7e\u9a76\u4eea\u5728\u542f\u52a8\u7684\u65f6\u5019\u4f18\u5148\u5c1d\u8bd5\u8fde\u63a5\u5916\u90e8SPI\u7684IMU\uff0c\u4ece\u800c\u5b9e\u73b0\u4e00\u6b21\u70e7\u5f55\uff0c\u65e2\u80fd\u7528\u4e8e\u4eff\u771f\u4e5f\u80fd\u7528\u4e8e\u5b9e\u98de\u7684\u76ee\u7684\u3002\u8fd9\u91cc\u4fee\u6539 \u98de\u63a7\u7684\u4f20\u611f\u5668\u542f\u52a8\u811a\u672c\u8fdb\u884c\u7b80\u5355\u4fee\u6539\u91cd\u65b0\u7f16\u8bd1\u70e7\u5f55\u5230\u98de\u63a7\u4e2d \u3002 Note \u9ed8\u8ba4\u652f\u6301PX4 v1.11\u7248\u672c\u7684\u56fa\u4ef6\u3002\u5bf9\u4e8ev1.12\u7684\u652f\u6301\u8bf7\u53c2\u8003 \u5982\u4f55\u4f7f\u7528PX4 1.12\u56fa\u4ef6 \u3002\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u542f\u52a8\u811a\u672c\u7684\u4fee\u6539\u5185\u5bb9\u6709\u7ec6\u5fae\u7684\u53d8\u5316\u3002 \u8fd9\u91cc\u5047\u8bbe\u7528\u6237\u4f7f\u7528RflySim\u8fdb\u884c\u63a7\u5236\u7b97\u6cd5\u7684\u5f00\u53d1\u3002\u4e3a\u4e86\u80fd\u591f\u4e0eRflySim-RT\u5b9e\u73b0\u4eff\u771f\uff0c\u9700\u8981\u4fee\u6539\u56fa\u4ef6\u6e90\u7801\u7684\u542f\u52a8\u811a\u672c\u3002\u5bf9\u4e8ePixhawk 4\u98de\u63a7\u800c\u8a00\uff0c\u542f\u52a8\u811a\u672c\u8def\u5f84\u4f4d\u4e8e X:\\PX4PSP\\Firmware\\boards\\px4\\fmu-v5\\init\\rc.board_sensors \u3002 \u5176\u4ed6\u7c7b\u578b\u7684\u98de\u63a7\u53ef\u5728\u8def\u5f84 \\Firmware\\boards \u4e2d\u67e5\u627e\u3002 X \u662fRflySim\u7684\u5b89\u88c5\u76d8\u7b26\uff0c\u9ed8\u8ba4\u662fC\u76d8\u3002 Note \u5982\u679c\u4f7f\u7528\u5b98\u65b9\u539f\u751f\u56fa\u4ef6\uff0c\u4e5f\u9700\u8981\u5230\u5bf9\u5e94\u7684\u76ee\u5f55 Firmware\\boards\\px4\\fmu-v5\\init\\ \u4e0b\u4fee\u6539rc.board_sensors\u6587\u4ef6\uff0c\u9700\u8981\u4fee\u6539\u5185\u5bb9\u4e5f\u662f\u4e00\u6837\u7684\u3002\u5efa\u8bae\u4f7f\u7528vscode\u4e4b\u7c7b\u7684\u7f16\u8f91\u8f6f\u4ef6\u3002\u56e0\u4e3a\u56de\u8f66\u7b26\u7684\u533a\u522b\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528Windows\u7cfb\u7edf\u7684\u8bb0\u4e8b\u672c\u3002 \u4f7f\u7528\u7f16\u8f91\u5668\u6253\u5f00rc.board_sensors\u3002\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9 #!/bin/sh # # PX4 FMUv5 specific board sensors init #------------------------------------------------------------------------------ adc start if ! icm20689 -S start then # Internal SPI bus ICM-20602 #icm20602 -s -R 2 start # Internal SPI bus ICM-20689 icm20689 -s -R 2 start # Internal SPI bus BMI055 accel/gyro #bmi055 -A -R 2 -s start #bmi055 -G -R 2 -s start # internal compass #ist8310 -I start fi if ! ms5611 -X start then # Baro on internal SPI ms5611 -s start fi #icm20689 -S start #ms5611 -X start \u4fee\u6539\u540e\u7684\u811a\u672c\u903b\u8f91\u662f\u4f18\u5148\u542f\u52a8\u5916\u7f6e\u4f20\u611f\u5668\uff0c\u5982\u679c\u542f\u52a8\u5931\u8d25\u5219\u4f1a\u542f\u52a8\u5185\u7f6e\u4f20\u611f\u5668\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u56fa\u4ef6\u53ef\u4ee5\u4e0d\u7ecf\u4fee\u6539\u65e2\u53ef\u4ee5\u8fd0\u884c\u5728\u672c\u4eff\u771f\u5e73\u53f0\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u98de\u3002\u5f53\u7136\u4e86\uff0c\u8fd8\u662f\u5efa\u8bae\u4eff\u771f\u4e00\u4e2a\u98de\u63a7\uff0c\u5b9e\u98de\u4e00\u4e2a\u98de\u63a7\u3002 Warning \u8bf7\u518d\u6b21\u786e\u8ba4\u98de\u63a7\u4e2d\u5b89\u88c5\u7684PX4\u98de\u63a7\u56fa\u4ef6\u7248\u672c\u662f1.11.3\u7248\u672c\u3002 \u4e14\u98de\u63a7\u7684\u6a21\u5f0f\u662f\u56db\u65cb\u7ffc\u3002","title":"2. \u98de\u63a7\u56fa\u4ef6\u8bbe\u7f6e"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#3","text":"\u6210\u529f\u8fd0\u884c\u4eff\u771f\u7cfb\u7edf\u53ea\u9700\u8981\u4fee\u6539\u4ee5\u4e0b\u53c2\u6570\u4e3a\u6307\u5b9a\u503c\uff0c\u89c1\u4e0b\u56fe","title":"3. \u56fa\u4ef6\u53c2\u6570\u8bbe\u7f6e"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#4","text":"\u5f00\u53d1\u677f\u91c7\u7528SD\u542f\u52a8\u65b9\u5f0f\u3002\u64cd\u4f5c\u6b65\u9aa4\u5982\u4e0b: 1.\u4ece\u5f00\u53d1\u677f\u4e0a\u53d6\u4e0bSD\u5361\uff0c\u4f7f\u7528\u8bfb\u5361\u5668\u5c06\u56fa\u4ef6\u590d\u5236\u5230SD\u5361\u6839\u76ee\u5f55\u4e0a\u3002 \u56fa\u4ef6\u4e0b\u8f7d\u94fe\u63a5\uff1a https://bhpan.buaa.edu.cn:443/link/1FF3201F500F3D00A9C483235A36B653 \u6709\u6548\u671f\u9650\uff1a2023-09-01 23:59 Warning SD\u5361\u9700\u8981\u63d0\u524d\u683c\u5f0f\u5316\u4e3aFAT32\u683c\u5f0f\u3002 \u56fa\u4ef6\u7684\u540d\u5b57\u5fc5\u987b\u662fBOOT.bin\u3002 2.\u901a\u8fc7\u62e8\u7801\u5f00\u5173\uff0c\u8bbe\u7f6e\u5f00\u53d1\u677f\u7684\u4e0a\u7535\u542f\u52a8\u6a21\u5f0f\u4e3aSD\u5361\u6a21\u5f0f\u3002\u62e8\u7801\u5f00\u5173\u8bbe\u7f6e\u53c2\u8003\u4e0b\u56fe\uff0c\u5e94\u8bbe\u7f6e\u4e3a0101\uff0c\u5bf9\u5e94\u5230\u56fe\u4e2d\u4ece\u5de6\u5230\u53f3\u662f \u4e0a\u4e0b\u4e0a\u4e0b \u3002 3.\u5c06SD\u5361\u63d2\u56de\u5230\u5f00\u53d1\u677f\u4e0a\u3002 \u5b8c\u6210\u4ee5\u4e0a\u8bbe\u7f6e\u540e\uff0c\u7ed9\u5f00\u53d1\u677f\u901a\u7535\uff0c\u5e76\u4e14\u8fde\u63a5USB\u5230\u7535\u8111\uff0c\u53ef\u4ee5\u5728\u8bbe\u5907\u7ba1\u7406\u5668\u4e2d\u770b\u5230\uff08 \u786e\u8ba4\u5df2\u7ecf\u5b89\u88c5CP210X\u7684\u9a71\u52a8 \uff09\uff0c\u4f7f\u7528\u4e32\u53e3\u7ec8\u7aef\u8fde\u63a5\u4e32\u53e3\u3002 \u8fd9\u91cc\u4f7f\u7528MobaXterm\u4e3e\u4f8b\u6253\u5f00\u4e32\u53e3\uff0c\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a115200\uff0c\u6253\u5f00\u540e\u5728\u4e32\u53e3\u7ec8\u7aef\u91cc\u8f93\u5165 help \u5e76\u4e14 \u56de\u8f66 \u3002\u89c1\u4e0b\u56fe\uff1a \u5f53\u7136\u4e5f\u53ef\u4ee5\u5148\u8fde\u63a5\u4e32\u53e3\u518d\u6253\u5f00\u5f00\u53d1\u677f\uff0c\u6216\u8005\u6309\u4e0b\u5f00\u53d1\u677f\u7684\u590d\u4f4d\u952e\uff0c\u5e94\u8be5\u80fd\u770b\u5230\u66f4\u591a\u542f\u52a8\u4fe1\u606f\u3002\u89c1\u4e0b\u56fe\uff1a \u5982\u679c\u8fde\u63a5\u4e86\u4e32\u53e3\u8f6cwifi\u6a21\u5757\uff0c\u6253\u5f00RflySim3D\u8f6f\u4ef6\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4e00\u67b6\u56db\u65cb\u7ffc\u98de\u884c\u5668\u51fa\u73b0\u5728\u7a97\u53e3\u4e2d\uff08\u5982\u679c\u6ca1\u6709\u663e\u793a\uff0c\u8bf7\u5148\u68c0\u67e5wifi\u6a21\u5757\u662f\u5426\u6b63\u5e38\u8fde\u63a5\u5230\u5c40\u57df\u7f51\u4e2d\uff09","title":"4. \u5f00\u53d1\u677f\u56fa\u4ef6\u5b89\u88c5"},{"location":"quickstart/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/#5","text":"\u8fde\u63a5\u98de\u63a7\u4e0e\u7535\u8111\uff08\u786e\u4fdd\u5df2\u7ecf\u6309\u7167\u524d\u9762\u6b65\u9aa4\u91cd\u5237\u4fee\u6539\u8fc7\u542f\u52a8\u811a\u672c\u7684\u56fa\u4ef6\uff09\uff0c\u6253\u5f00QGC\u53ef\u4ee5\u770b\u5230\u5730\u9762\u7ad9\u8fde\u63a5\u5230\u98de\u63a7. \u5728\u5730\u9762\u7ad9\u7684\u63a7\u5236\u53f0\u4e2d\u8f93\u5165 sensors status \u56de\u8f66\uff0c\u53ef\u4ee5\u770b\u5230\u98de\u63a7\u8bfb\u53d6\u5230\u7684\u4f20\u611f\u5668\u4fe1\u606f\u3002 \u5982\u679c\u914d\u7f6e\u8fc7\u7a0b\u6ca1\u95ee\u9898\u5f97\u8bdd\uff0c\u53ef\u4ee5\u83b7\u5f97\u4f20\u611f\u5668\u72b6\u6001\u4fe1\u606f\u5982\u4e0b\u56fe\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u6570\u636e\u5b9e\u9645\u4e0a\u662fFPGA\u6a21\u62df\u51fa\u6765\u7684\uff0c\u98de\u63a7\u5374\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u771f\u5b9e\u7684\u4f20\u611f\u5668\u3002 \u5982\u679c\u6ca1\u6709\u4e0a\u56fe\u6548\u679c\u8bf7\u518d\u6b21\u786e\u8ba4 \u98de\u63a7\u7684Px4 \u7248\u672c\u662f1.11.3\u3002 \u4e14\u98de\u884c\u6a21\u5f0f\u662f\u56db\u65cb\u7ffc\u6a21\u5f0f\u3002 \u786e\u8ba4\u98de\u63a7\u548c\u5f00\u53d1\u677f\u7269\u7406\u63a5\u7ebf\u6b63\u786e\u3002 \u68c0\u67e5\u5730\u7ebf\u662f\u5426\u6b63\u786e\u8fde\u63a5\u3002","title":"5. \u98de\u63a7\u4e0a\u7535"},{"location":"test/test/","text":"MkDocs Plugins \uf0c1 A Guide to installing, using and creating MkDocs Plugins Installing Plugins \uf0c1 Before a plugin can be used, it must be installed on the system. If you are using a plugin which comes with MkDocs, then it was installed when you installed MkDocs. However, to install third party plugins, you need to determine the appropriate package name and install it using pip : pip install mkdocs-foo-plugin Warning Installing an MkDocs plugin means installing a Python package and executing any code that the author has put in there. So, exercise the usual caution; there's no attempt at sandboxing. Once a plugin has been successfully installed, it is ready to use. It just needs to be enabled in the configuration file. The Catalog repository has a large ranked list of plugins that you can install and use. Using Plugins \uf0c1 The plugins configuration option should contain a list of plugins to use when building the site. Each \"plugin\" must be a string name assigned to the plugin (see the documentation for a given plugin to determine its \"name\"). A plugin listed here must already be installed . plugins: - search Some plugins may provide configuration options of their own. If you would like to set any configuration options, then you can nest a key/value mapping ( option_name: option value ) of any options that a given plugin supports. Note that a colon ( : ) must follow the plugin name and then on a new line the option name and value must be indented and separated by a colon. If you would like to define multiple options for a single plugin, each option must be defined on a separate line. plugins: - search: lang: en foo: bar For information regarding the configuration options available for a given plugin, see that plugin's documentation. For a list of default plugins and how to override them, see the configuration documentation. Developing Plugins \uf0c1 Like MkDocs, plugins must be written in Python. It is generally expected that each plugin would be distributed as a separate Python module, although it is possible to define multiple plugins in the same module. At a minimum, a MkDocs Plugin must consist of a BasePlugin subclass and an entry point which points to it. BasePlugin \uf0c1 A subclass of mkdocs.plugins.BasePlugin should define the behavior of the plugin. The class generally consists of actions to perform on specific events in the build process as well as a configuration scheme for the plugin. All BasePlugin subclasses contain the following attributes: config_scheme \uf0c1 A tuple of configuration validation instances. Each item must consist of a two item tuple in which the first item is the string name of the configuration option and the second item is an instance of mkdocs.config.config_options.BaseConfigOption or any of its subclasses. For example, the following config_scheme defines three configuration options: foo , which accepts a string; bar , which accepts an integer; and baz , which accepts a boolean value. class MyPlugin(mkdocs.plugins.BasePlugin): config_scheme = ( ('foo', mkdocs.config.config_options.Type(str, default='a default value')), ('bar', mkdocs.config.config_options.Type(int, default=0)), ('baz', mkdocs.config.config_options.Type(bool, default=True)) ) New in version 1.4 Subclassing Config to specify the config schema \uf0c1 To get type safety benefits, if you're targeting only MkDocs 1.4+, define the config schema as a class instead: class MyPluginConfig(mkdocs.config.base.Config): foo = mkdocs.config.config_options.Type(str, default='a default value') bar = mkdocs.config.config_options.Type(int, default=0) baz = mkdocs.config.config_options.Type(bool, default=True) class MyPlugin(mkdocs.plugins.BasePlugin[MyPluginConfig]): ... Examples of config definitions \uf0c1 Example from mkdocs.config import base, config_options as c class _ValidationOptions(base.Config): enabled = c.Type(bool, default=True) verbose = c.Type(bool, default=False) skip_checks = c.ListOfItems(c.Choice(('foo', 'bar', 'baz')), default=[]) class MyPluginConfig(base.Config): definition_file = c.File(exists=True) # required checksum_file = c.Optional(c.File(exists=True)) # can be None but must exist if specified validation = c.SubConfig(_ValidationOptions) From the user's point of view SubConfig is similar to Type(dict) , it's just that it also retains full ability for validation: you define all valid keys and what each value should adhere to. And ListOfItems is similar to Type(list) , but again, we define the constraint that each value must adhere to. This accepts a config as follows: my_plugin: definition_file: configs/test.ini # relative to mkdocs.yml validation: enabled: !ENV [CI, false] verbose: true skip_checks: - foo - baz Example import numbers from mkdocs.config import base, config_options as c class _Rectangle(base.Config): width = c.Type(numbers.Real) # required height = c.Type(numbers.Real) # required class MyPluginConfig(base.Config): add_rectangles = c.ListOfItems(c.SubConfig(_Rectangle)) # required In this example we define a list of complex items, and that's achieved by passing a concrete SubConfig to ListOfItems . This accepts a config as follows: my_plugin: add_rectangles: - width: 5 height: 7 - width: 12 height: 2 When the user's configuration is loaded, the above scheme will be used to validate the configuration and fill in any defaults for settings not provided by the user. The validation classes may be any of the classes provided in mkdocs.config.config_options or a third party subclass defined in the plugin. Any settings provided by the user which fail validation or are not defined in the config_scheme will raise a mkdocs.config.base.ValidationError . config \uf0c1 A dictionary of configuration options for the plugin, which is populated by the load_config method after configuration validation has completed. Use this attribute to access options provided by the user. def on_pre_build(self, config, **kwargs): if self.config['baz']: # implement \"baz\" functionality here... New in version 1.4 Safe attribute-based access \uf0c1 To get type safety benefits, if you're targeting only MkDocs 1.4+, access options as attributes instead: def on_pre_build(self, config, **kwargs): if self.config.baz: print(self.config.bar ** 2) # OK, `int ** 2` is valid. All BasePlugin subclasses contain the following method(s): load_config(options) \uf0c1 Loads configuration from a dictionary of options. Returns a tuple of (errors, warnings) . This method is called by MkDocs during configuration validation and should not need to be called by the plugin. on_<event_name>() \uf0c1 Optional methods which define the behavior for specific events . The plugin should define its behavior within these methods. Replace <event_name> with the actual name of the event. For example, the pre_build event would be defined in the on_pre_build method. Most events accept one positional argument and various keyword arguments. It is generally expected that the positional argument would be modified (or replaced) by the plugin and returned. If nothing is returned (the method returns None ), then the original, unmodified object is used. The keyword arguments are simply provided to give context and/or supply data which may be used to determine how the positional argument should be modified. It is good practice to accept keyword arguments as **kwargs . In the event that additional keywords are provided to an event in a future version of MkDocs, there will be no need to alter your plugin. For example, the following event would add an additional static_template to the theme config: class MyPlugin(BasePlugin): def on_config(self, config, **kwargs): config['theme'].static_templates.add('my_template.html') return config New in version 1.4 To get type safety benefits, if you're targeting only MkDocs 1.4+, access config options as attributes instead: def on_config(self, config: MkDocsConfig): config.theme.static_templates.add('my_template.html') return config Events \uf0c1 There are three kinds of events: Global Events , Page Events and Template Events . See a diagram with relations between all the plugin events The events themselves are shown in yellow, with their parameters. Arrows show the flow of arguments and outputs of each event. Sometimes they're omitted. The events are chronologically ordered from top to bottom. Dotted lines appear at splits from global events to per-page events. Click the events' titles to jump to their description. One-time Events \uf0c1 One-time events run once per mkdocs invocation. The only case where these tangibly differ from global events is for mkdocs serve : global events, unlike these, will run multiple times -- once per build . on_startup \uf0c1 ::: mkdocs.plugins.BasePlugin.on_startup options: show_root_heading: false show_root_toc_entry: false on_shutdown \uf0c1 ::: mkdocs.plugins.BasePlugin.on_shutdown options: show_root_heading: false show_root_toc_entry: false on_serve \uf0c1 ::: mkdocs.plugins.BasePlugin.on_serve options: show_root_heading: false show_root_toc_entry: false Global Events \uf0c1 Global events are called once per build at either the beginning or end of the build process. Any changes made in these events will have a global effect on the entire site. on_config \uf0c1 ::: mkdocs.plugins.BasePlugin.on_config options: show_root_heading: false show_root_toc_entry: false on_pre_build \uf0c1 ::: mkdocs.plugins.BasePlugin.on_pre_build options: show_root_heading: false show_root_toc_entry: false on_files \uf0c1 ::: mkdocs.plugins.BasePlugin.on_files options: show_root_heading: false show_root_toc_entry: false on_nav \uf0c1 ::: mkdocs.plugins.BasePlugin.on_nav options: show_root_heading: false show_root_toc_entry: false on_env \uf0c1 ::: mkdocs.plugins.BasePlugin.on_env options: show_root_heading: false show_root_toc_entry: false on_post_build \uf0c1 ::: mkdocs.plugins.BasePlugin.on_post_build options: show_root_heading: false show_root_toc_entry: false on_build_error \uf0c1 ::: mkdocs.plugins.BasePlugin.on_build_error options: show_root_heading: false show_root_toc_entry: false Template Events \uf0c1 Template events are called once for each non-page template. Each template event will be called for each template defined in the extra_templates config setting as well as any static_templates defined in the theme. All template events are called after the env event and before any page events . on_pre_template \uf0c1 ::: mkdocs.plugins.BasePlugin.on_pre_template options: show_root_heading: false show_root_toc_entry: false on_template_context \uf0c1 ::: mkdocs.plugins.BasePlugin.on_template_context options: show_root_heading: false show_root_toc_entry: false on_post_template \uf0c1 ::: mkdocs.plugins.BasePlugin.on_post_template options: show_root_heading: false show_root_toc_entry: false Page Events \uf0c1 Page events are called once for each Markdown page included in the site. All page events are called after the post_template event and before the post_build event. on_pre_page \uf0c1 ::: mkdocs.plugins.BasePlugin.on_pre_page options: show_root_heading: false show_root_toc_entry: false on_page_read_source \uf0c1 ::: mkdocs.plugins.BasePlugin.on_page_read_source options: show_root_heading: false show_root_toc_entry: false on_page_markdown \uf0c1 ::: mkdocs.plugins.BasePlugin.on_page_markdown options: show_root_heading: false show_root_toc_entry: false on_page_content \uf0c1 ::: mkdocs.plugins.BasePlugin.on_page_content options: show_root_heading: false show_root_toc_entry: false on_page_context \uf0c1 ::: mkdocs.plugins.BasePlugin.on_page_context options: show_root_heading: false show_root_toc_entry: false on_post_page \uf0c1 ::: mkdocs.plugins.BasePlugin.on_post_page options: show_root_heading: false show_root_toc_entry: false Event Priorities \uf0c1 For each event type, corresponding methods of plugins are called in the order that the plugins appear in the plugins config . Since MkDocs 1.4, plugins can choose to set a priority value for their events. Events with higher priority are called first. Events without a chosen priority get a default of 0. Events that have the same priority are ordered as they appear in the config. ::: mkdocs.plugins.event_priority \uf0c1 There may also arise a need to register a handler for the same event at multiple different priorities. CombinedEvent makes this possible since MkDocs 1.6. ::: mkdocs.plugins.CombinedEvent \uf0c1 Handling Errors \uf0c1 MkDocs defines four error types: ::: mkdocs.exceptions.MkDocsException \uf0c1 ::: mkdocs.exceptions.ConfigurationError \uf0c1 ::: mkdocs.exceptions.BuildError \uf0c1 ::: mkdocs.exceptions.PluginError \uf0c1 Unexpected and uncaught exceptions will interrupt the build process and produce typical Python tracebacks, which are useful for debugging your code. However, users generally find tracebacks overwhelming and often miss the helpful error message. Therefore, MkDocs will catch any of the errors listed above, retrieve the error message, and exit immediately with only the helpful message displayed to the user. Therefore, you might want to catch any exceptions within your plugin and raise a PluginError , passing in your own custom-crafted message, so that the build process is aborted with a helpful message. The on_build_error event will be triggered for any exception. For example: from mkdocs.exceptions import PluginError from mkdocs.plugins import BasePlugin class MyPlugin(BasePlugin): def on_post_page(self, output, page, config, **kwargs): try: # some code that could throw a KeyError ... except KeyError as error: raise PluginError(f\"Failed to find the item by key: '{error}'\") def on_build_error(self, error, **kwargs): # some code to clean things up ... Logging in plugins \uf0c1 To ensure that your plugins' log messages adhere with MkDocs' formatting and --verbose / --debug flags, please write the logs to a logger under the mkdocs.plugins. namespace. Example import logging log = logging.getLogger(f\"mkdocs.plugins.{__name__}\") log.warning(\"File '%s' not found. Breaks the build if --strict is passed\", my_file_name) log.info(\"Shown normally\") log.debug(\"Shown only with `--verbose`\") if log.getEffectiveLevel() <= logging.DEBUG: log.debug(\"Very expensive calculation only for debugging: %s\", get_my_diagnostics()) log.error() is another logging level that is differentiated by its look, but in all other ways it functions the same as warning , so it's strange to use it. If your plugin encounters an actual error, it is best to just interrupt the build by raising mkdocs.exceptions.PluginError (which will also log an ERROR message). New New in MkDocs 1.5 MkDocs now provides a get_plugin_logger() convenience function that returns a logger like the above that is also prefixed with the plugin's name. ::: mkdocs.plugins.get_plugin_logger \uf0c1 Entry Point \uf0c1 Plugins need to be packaged as Python libraries (distributed on PyPI separate from MkDocs) and each must register as a Plugin via a setuptools entry_points . Add the following to your setup.py script: entry_points={ 'mkdocs.plugins': [ 'pluginname = path.to.some_plugin:SomePluginClass', ] } The pluginname would be the name used by users (in the config file) and path.to.some_plugin:SomePluginClass would be the importable plugin itself ( from path.to.some_plugin import SomePluginClass ) where SomePluginClass is a subclass of BasePlugin which defines the plugin behavior. Naturally, multiple Plugin classes could exist in the same module. Simply define each as a separate entry point. entry_points={ 'mkdocs.plugins': [ 'featureA = path.to.my_plugins:PluginA', 'featureB = path.to.my_plugins:PluginB' ] } Note that registering a plugin does not activate it. The user still needs to tell MkDocs to use it via the config. Publishing a Plugin \uf0c1 You should publish a package on PyPI , then add it to the Catalog for discoverability. Plugins are strongly recommended to have a unique plugin name (entry point name) according to the catalog.","title":"\u6d4b\u8bd5"},{"location":"test/test/#mkdocs-plugins","text":"A Guide to installing, using and creating MkDocs Plugins","title":"MkDocs Plugins"},{"location":"test/test/#installing-plugins","text":"Before a plugin can be used, it must be installed on the system. If you are using a plugin which comes with MkDocs, then it was installed when you installed MkDocs. However, to install third party plugins, you need to determine the appropriate package name and install it using pip : pip install mkdocs-foo-plugin Warning Installing an MkDocs plugin means installing a Python package and executing any code that the author has put in there. So, exercise the usual caution; there's no attempt at sandboxing. Once a plugin has been successfully installed, it is ready to use. It just needs to be enabled in the configuration file. The Catalog repository has a large ranked list of plugins that you can install and use.","title":"Installing Plugins"},{"location":"test/test/#using-plugins","text":"The plugins configuration option should contain a list of plugins to use when building the site. Each \"plugin\" must be a string name assigned to the plugin (see the documentation for a given plugin to determine its \"name\"). A plugin listed here must already be installed . plugins: - search Some plugins may provide configuration options of their own. If you would like to set any configuration options, then you can nest a key/value mapping ( option_name: option value ) of any options that a given plugin supports. Note that a colon ( : ) must follow the plugin name and then on a new line the option name and value must be indented and separated by a colon. If you would like to define multiple options for a single plugin, each option must be defined on a separate line. plugins: - search: lang: en foo: bar For information regarding the configuration options available for a given plugin, see that plugin's documentation. For a list of default plugins and how to override them, see the configuration documentation.","title":"Using Plugins"},{"location":"test/test/#developing-plugins","text":"Like MkDocs, plugins must be written in Python. It is generally expected that each plugin would be distributed as a separate Python module, although it is possible to define multiple plugins in the same module. At a minimum, a MkDocs Plugin must consist of a BasePlugin subclass and an entry point which points to it.","title":"Developing Plugins"},{"location":"test/test/#baseplugin","text":"A subclass of mkdocs.plugins.BasePlugin should define the behavior of the plugin. The class generally consists of actions to perform on specific events in the build process as well as a configuration scheme for the plugin. All BasePlugin subclasses contain the following attributes:","title":"BasePlugin"},{"location":"test/test/#config_scheme","text":"A tuple of configuration validation instances. Each item must consist of a two item tuple in which the first item is the string name of the configuration option and the second item is an instance of mkdocs.config.config_options.BaseConfigOption or any of its subclasses. For example, the following config_scheme defines three configuration options: foo , which accepts a string; bar , which accepts an integer; and baz , which accepts a boolean value. class MyPlugin(mkdocs.plugins.BasePlugin): config_scheme = ( ('foo', mkdocs.config.config_options.Type(str, default='a default value')), ('bar', mkdocs.config.config_options.Type(int, default=0)), ('baz', mkdocs.config.config_options.Type(bool, default=True)) ) New in version 1.4","title":"config_scheme"},{"location":"test/test/#subclassing-config-to-specify-the-config-schema","text":"To get type safety benefits, if you're targeting only MkDocs 1.4+, define the config schema as a class instead: class MyPluginConfig(mkdocs.config.base.Config): foo = mkdocs.config.config_options.Type(str, default='a default value') bar = mkdocs.config.config_options.Type(int, default=0) baz = mkdocs.config.config_options.Type(bool, default=True) class MyPlugin(mkdocs.plugins.BasePlugin[MyPluginConfig]): ...","title":"Subclassing Config to specify the config schema"},{"location":"test/test/#examples-of-config-definitions","text":"Example from mkdocs.config import base, config_options as c class _ValidationOptions(base.Config): enabled = c.Type(bool, default=True) verbose = c.Type(bool, default=False) skip_checks = c.ListOfItems(c.Choice(('foo', 'bar', 'baz')), default=[]) class MyPluginConfig(base.Config): definition_file = c.File(exists=True) # required checksum_file = c.Optional(c.File(exists=True)) # can be None but must exist if specified validation = c.SubConfig(_ValidationOptions) From the user's point of view SubConfig is similar to Type(dict) , it's just that it also retains full ability for validation: you define all valid keys and what each value should adhere to. And ListOfItems is similar to Type(list) , but again, we define the constraint that each value must adhere to. This accepts a config as follows: my_plugin: definition_file: configs/test.ini # relative to mkdocs.yml validation: enabled: !ENV [CI, false] verbose: true skip_checks: - foo - baz Example import numbers from mkdocs.config import base, config_options as c class _Rectangle(base.Config): width = c.Type(numbers.Real) # required height = c.Type(numbers.Real) # required class MyPluginConfig(base.Config): add_rectangles = c.ListOfItems(c.SubConfig(_Rectangle)) # required In this example we define a list of complex items, and that's achieved by passing a concrete SubConfig to ListOfItems . This accepts a config as follows: my_plugin: add_rectangles: - width: 5 height: 7 - width: 12 height: 2 When the user's configuration is loaded, the above scheme will be used to validate the configuration and fill in any defaults for settings not provided by the user. The validation classes may be any of the classes provided in mkdocs.config.config_options or a third party subclass defined in the plugin. Any settings provided by the user which fail validation or are not defined in the config_scheme will raise a mkdocs.config.base.ValidationError .","title":"Examples of config definitions"},{"location":"test/test/#config","text":"A dictionary of configuration options for the plugin, which is populated by the load_config method after configuration validation has completed. Use this attribute to access options provided by the user. def on_pre_build(self, config, **kwargs): if self.config['baz']: # implement \"baz\" functionality here... New in version 1.4","title":"config"},{"location":"test/test/#safe-attribute-based-access","text":"To get type safety benefits, if you're targeting only MkDocs 1.4+, access options as attributes instead: def on_pre_build(self, config, **kwargs): if self.config.baz: print(self.config.bar ** 2) # OK, `int ** 2` is valid. All BasePlugin subclasses contain the following method(s):","title":"Safe attribute-based access"},{"location":"test/test/#load_configoptions","text":"Loads configuration from a dictionary of options. Returns a tuple of (errors, warnings) . This method is called by MkDocs during configuration validation and should not need to be called by the plugin.","title":"load_config(options)"},{"location":"test/test/#on_event_name","text":"Optional methods which define the behavior for specific events . The plugin should define its behavior within these methods. Replace <event_name> with the actual name of the event. For example, the pre_build event would be defined in the on_pre_build method. Most events accept one positional argument and various keyword arguments. It is generally expected that the positional argument would be modified (or replaced) by the plugin and returned. If nothing is returned (the method returns None ), then the original, unmodified object is used. The keyword arguments are simply provided to give context and/or supply data which may be used to determine how the positional argument should be modified. It is good practice to accept keyword arguments as **kwargs . In the event that additional keywords are provided to an event in a future version of MkDocs, there will be no need to alter your plugin. For example, the following event would add an additional static_template to the theme config: class MyPlugin(BasePlugin): def on_config(self, config, **kwargs): config['theme'].static_templates.add('my_template.html') return config New in version 1.4 To get type safety benefits, if you're targeting only MkDocs 1.4+, access config options as attributes instead: def on_config(self, config: MkDocsConfig): config.theme.static_templates.add('my_template.html') return config","title":"on_&lt;event_name&gt;()"},{"location":"test/test/#events","text":"There are three kinds of events: Global Events , Page Events and Template Events . See a diagram with relations between all the plugin events The events themselves are shown in yellow, with their parameters. Arrows show the flow of arguments and outputs of each event. Sometimes they're omitted. The events are chronologically ordered from top to bottom. Dotted lines appear at splits from global events to per-page events. Click the events' titles to jump to their description.","title":"Events"},{"location":"test/test/#one-time-events","text":"One-time events run once per mkdocs invocation. The only case where these tangibly differ from global events is for mkdocs serve : global events, unlike these, will run multiple times -- once per build .","title":"One-time Events"},{"location":"test/test/#on_startup","text":"::: mkdocs.plugins.BasePlugin.on_startup options: show_root_heading: false show_root_toc_entry: false","title":"on_startup"},{"location":"test/test/#on_shutdown","text":"::: mkdocs.plugins.BasePlugin.on_shutdown options: show_root_heading: false show_root_toc_entry: false","title":"on_shutdown"},{"location":"test/test/#on_serve","text":"::: mkdocs.plugins.BasePlugin.on_serve options: show_root_heading: false show_root_toc_entry: false","title":"on_serve"},{"location":"test/test/#global-events","text":"Global events are called once per build at either the beginning or end of the build process. Any changes made in these events will have a global effect on the entire site.","title":"Global Events"},{"location":"test/test/#on_config","text":"::: mkdocs.plugins.BasePlugin.on_config options: show_root_heading: false show_root_toc_entry: false","title":"on_config"},{"location":"test/test/#on_pre_build","text":"::: mkdocs.plugins.BasePlugin.on_pre_build options: show_root_heading: false show_root_toc_entry: false","title":"on_pre_build"},{"location":"test/test/#on_files","text":"::: mkdocs.plugins.BasePlugin.on_files options: show_root_heading: false show_root_toc_entry: false","title":"on_files"},{"location":"test/test/#on_nav","text":"::: mkdocs.plugins.BasePlugin.on_nav options: show_root_heading: false show_root_toc_entry: false","title":"on_nav"},{"location":"test/test/#on_env","text":"::: mkdocs.plugins.BasePlugin.on_env options: show_root_heading: false show_root_toc_entry: false","title":"on_env"},{"location":"test/test/#on_post_build","text":"::: mkdocs.plugins.BasePlugin.on_post_build options: show_root_heading: false show_root_toc_entry: false","title":"on_post_build"},{"location":"test/test/#on_build_error","text":"::: mkdocs.plugins.BasePlugin.on_build_error options: show_root_heading: false show_root_toc_entry: false","title":"on_build_error"},{"location":"test/test/#template-events","text":"Template events are called once for each non-page template. Each template event will be called for each template defined in the extra_templates config setting as well as any static_templates defined in the theme. All template events are called after the env event and before any page events .","title":"Template Events"},{"location":"test/test/#on_pre_template","text":"::: mkdocs.plugins.BasePlugin.on_pre_template options: show_root_heading: false show_root_toc_entry: false","title":"on_pre_template"},{"location":"test/test/#on_template_context","text":"::: mkdocs.plugins.BasePlugin.on_template_context options: show_root_heading: false show_root_toc_entry: false","title":"on_template_context"},{"location":"test/test/#on_post_template","text":"::: mkdocs.plugins.BasePlugin.on_post_template options: show_root_heading: false show_root_toc_entry: false","title":"on_post_template"},{"location":"test/test/#page-events","text":"Page events are called once for each Markdown page included in the site. All page events are called after the post_template event and before the post_build event.","title":"Page Events"},{"location":"test/test/#on_pre_page","text":"::: mkdocs.plugins.BasePlugin.on_pre_page options: show_root_heading: false show_root_toc_entry: false","title":"on_pre_page"},{"location":"test/test/#on_page_read_source","text":"::: mkdocs.plugins.BasePlugin.on_page_read_source options: show_root_heading: false show_root_toc_entry: false","title":"on_page_read_source"},{"location":"test/test/#on_page_markdown","text":"::: mkdocs.plugins.BasePlugin.on_page_markdown options: show_root_heading: false show_root_toc_entry: false","title":"on_page_markdown"},{"location":"test/test/#on_page_content","text":"::: mkdocs.plugins.BasePlugin.on_page_content options: show_root_heading: false show_root_toc_entry: false","title":"on_page_content"},{"location":"test/test/#on_page_context","text":"::: mkdocs.plugins.BasePlugin.on_page_context options: show_root_heading: false show_root_toc_entry: false","title":"on_page_context"},{"location":"test/test/#on_post_page","text":"::: mkdocs.plugins.BasePlugin.on_post_page options: show_root_heading: false show_root_toc_entry: false","title":"on_post_page"},{"location":"test/test/#event-priorities","text":"For each event type, corresponding methods of plugins are called in the order that the plugins appear in the plugins config . Since MkDocs 1.4, plugins can choose to set a priority value for their events. Events with higher priority are called first. Events without a chosen priority get a default of 0. Events that have the same priority are ordered as they appear in the config.","title":"Event Priorities"},{"location":"test/test/#mkdocspluginsevent_priority","text":"There may also arise a need to register a handler for the same event at multiple different priorities. CombinedEvent makes this possible since MkDocs 1.6.","title":"::: mkdocs.plugins.event_priority"},{"location":"test/test/#mkdocspluginscombinedevent","text":"","title":"::: mkdocs.plugins.CombinedEvent"},{"location":"test/test/#handling-errors","text":"MkDocs defines four error types:","title":"Handling Errors"},{"location":"test/test/#mkdocsexceptionsmkdocsexception","text":"","title":"::: mkdocs.exceptions.MkDocsException"},{"location":"test/test/#mkdocsexceptionsconfigurationerror","text":"","title":"::: mkdocs.exceptions.ConfigurationError"},{"location":"test/test/#mkdocsexceptionsbuilderror","text":"","title":"::: mkdocs.exceptions.BuildError"},{"location":"test/test/#mkdocsexceptionspluginerror","text":"Unexpected and uncaught exceptions will interrupt the build process and produce typical Python tracebacks, which are useful for debugging your code. However, users generally find tracebacks overwhelming and often miss the helpful error message. Therefore, MkDocs will catch any of the errors listed above, retrieve the error message, and exit immediately with only the helpful message displayed to the user. Therefore, you might want to catch any exceptions within your plugin and raise a PluginError , passing in your own custom-crafted message, so that the build process is aborted with a helpful message. The on_build_error event will be triggered for any exception. For example: from mkdocs.exceptions import PluginError from mkdocs.plugins import BasePlugin class MyPlugin(BasePlugin): def on_post_page(self, output, page, config, **kwargs): try: # some code that could throw a KeyError ... except KeyError as error: raise PluginError(f\"Failed to find the item by key: '{error}'\") def on_build_error(self, error, **kwargs): # some code to clean things up ...","title":"::: mkdocs.exceptions.PluginError"},{"location":"test/test/#logging-in-plugins","text":"To ensure that your plugins' log messages adhere with MkDocs' formatting and --verbose / --debug flags, please write the logs to a logger under the mkdocs.plugins. namespace. Example import logging log = logging.getLogger(f\"mkdocs.plugins.{__name__}\") log.warning(\"File '%s' not found. Breaks the build if --strict is passed\", my_file_name) log.info(\"Shown normally\") log.debug(\"Shown only with `--verbose`\") if log.getEffectiveLevel() <= logging.DEBUG: log.debug(\"Very expensive calculation only for debugging: %s\", get_my_diagnostics()) log.error() is another logging level that is differentiated by its look, but in all other ways it functions the same as warning , so it's strange to use it. If your plugin encounters an actual error, it is best to just interrupt the build by raising mkdocs.exceptions.PluginError (which will also log an ERROR message). New New in MkDocs 1.5 MkDocs now provides a get_plugin_logger() convenience function that returns a logger like the above that is also prefixed with the plugin's name.","title":"Logging in plugins"},{"location":"test/test/#mkdocspluginsget_plugin_logger","text":"","title":"::: mkdocs.plugins.get_plugin_logger"},{"location":"test/test/#entry-point","text":"Plugins need to be packaged as Python libraries (distributed on PyPI separate from MkDocs) and each must register as a Plugin via a setuptools entry_points . Add the following to your setup.py script: entry_points={ 'mkdocs.plugins': [ 'pluginname = path.to.some_plugin:SomePluginClass', ] } The pluginname would be the name used by users (in the config file) and path.to.some_plugin:SomePluginClass would be the importable plugin itself ( from path.to.some_plugin import SomePluginClass ) where SomePluginClass is a subclass of BasePlugin which defines the plugin behavior. Naturally, multiple Plugin classes could exist in the same module. Simply define each as a separate entry point. entry_points={ 'mkdocs.plugins': [ 'featureA = path.to.my_plugins:PluginA', 'featureB = path.to.my_plugins:PluginB' ] } Note that registering a plugin does not activate it. The user still needs to tell MkDocs to use it via the config.","title":"Entry Point"},{"location":"test/test/#publishing-a-plugin","text":"You should publish a package on PyPI , then add it to the Catalog for discoverability. Plugins are strongly recommended to have a unique plugin name (entry point name) according to the catalog.","title":"Publishing a Plugin"}]}